{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./src/components/App.jsx","webpack:///./src/components/IconAction.jsx","webpack:///./src/components/Image.jsx","webpack:///./src/helpers/context_menu.js","webpack:///./src/helpers/external_links.js","webpack:///./src/services/spotify.js","webpack:///./src/stylesheets/app.css","webpack:///external \"axios\"","webpack:///external \"electron\"","webpack:///external \"preact\"","webpack:///external \"qs\""],"names":["ipcRenderer","shell","require","globalShortcut","remote","Spotify","AppMethods","on","response","getFaveslistTracks","tracks","data","items","map","obj","track","uri","invoke","key","value","init","e","arg","hydrateTrack","added","heartClicked","render","app","document","getElementById","Menu","MenuItem","rightClickPosition","menu","append","label","click","getCurrentWindow","inspectElement","x","y","window","addEventListener","preventDefault","popup","schema","loading","hasTrack","hearted","item","album","artists","images","name","App","Component","constructor","props","state","addTrack","setState","error","console","log","send","bind","quitWasClicked","template","role","buildFromTemplate","componentDidMount","update","current","JSON","parse","stringify","currentlyPlaying","hearts","indexOf","trackName","length","a","join","openAppMenu","IconAction","iconStyle","style","fill","stroke","isHearted","onClick","Image","loadingImageStyles","width","height","isAnyTextSelected","getSelection","toString","cut","execCommand","copy","paste","normalMenu","textEditingMenu","event","target","nodeName","supportExternalLinks","href","isExternal","checkDomElement","element","getAttribute","classList","contains","openExternal","parentElement","qs","axios","env","redirectUri","appConfig","playlist","refreshToken","authRequest","create","baseURL","authHeader","Buffer","from","CLIENT_ID","CLIENT_SECRET","defaults","headers","common","apiRequest","simRequest","interceptors","use","config","refresh","url","original","request","undefined","tokens","module","exports","access_token","Promise","reject","status","authOptions","method","setTokens","currentRequestOptions","currentRequestAttempts","api","options","Error","setConfig","trackAlreadyLiked","then","refresh_token","catch","err","authorize","scope","params","getTokens","authCode","setUser","setPlaylist","userID","public","getPlaylist","id","getPlaylists","trackURI","uris","snapshot_id","player"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","import { h, render } from 'preact'\n\nimport \"./stylesheets/app.css\";\nimport App from './components/App.jsx'\n\n// Small helpers you might want to keep\nimport \"./helpers/context_menu.js\";\nimport \"./helpers/external_links.js\";\nimport { ipcMain } from 'electron';\n\nconst {ipcRenderer, shell} = require('electron')\nconst {globalShortcut} = require('electron').remote\n\nconst Spotify = require('./services/spotify.js')\n\nlet AppMethods;\n\nipcRenderer.on('app-init', async () => {\n  let response = await Spotify.getFaveslistTracks()\n  let tracks = response.data.items.map(obj => obj.track.uri)\n  ipcRenderer.invoke('replace-config', {key: 'hearts', value: tracks})\n  init()\n})\n\nipcRenderer.on('window-toggled', (e, arg) => {\n  if (arg === 'open') {\n    AppMethods.hydrateTrack()\n  }\n})\n\nipcRenderer.on('shortcut', async () => {\n  let added = await AppMethods.heartClicked()\n  if (added) {\n    ipcRenderer.invoke('update-config', {key: 'hearts', value: added.uri})\n  }\n})\n\nasync function init() {\n  render(\n    <App\n    ipcRenderer={ ipcRenderer }\n    Spotify={ Spotify }\n    ref={app => AppMethods = app}\n    />,\n    document.getElementById('app')\n  )\n\n}\n\n\n/* \n\n  inspect element \n  \n  \n  */\n\nconst {remote} = require('electron')\nconst {Menu, MenuItem} = remote\nlet rightClickPosition;\nconst menu = new Menu()\nmenu.append(new MenuItem({\n  label: 'Inspect Element',\n  click: () => {\n    remote.getCurrentWindow().inspectElement(rightClickPosition.x, rightClickPosition.y)\n  }\n}))\n\nwindow.addEventListener('contextmenu', (e) => {\n  e.preventDefault()\n  rightClickPosition = {x: e.x, y: e.y}\n  menu.popup(remote.getCurrentWindow())\n}, false)\n","import { h, Component, createRef } from 'preact'\nimport IconAction from './IconAction.jsx'\nimport Image from './Image.jsx'\n\nconst {remote} = require('electron')\nconst {Menu, MenuItem} = remote\n\nconst schema = {\n  loading: true,\n  hasTrack: false,\n  hearted: false,\n  item: {\n    album: {\n      artists: [],\n      images: []\n    },\n    name: 'Loading...'\n  }\n}\n\nexport default class App extends Component {\n  \n  constructor(props) {\n    super(props)\n    this.Spotify = props.Spotify\n    this.ipcRenderer = props.ipcRenderer\n    this.heartClicked = this.heartClicked.bind(this)\n    this.quitWasClicked = this.quitWasClicked.bind(this)\n    const template = [\n      {\n        label: 'Quit',\n        role: 'quit'\n      }\n    ]\n    this.menu = Menu.buildFromTemplate(template)\n  }\n\n  // {State.item} structure matches Spotify structure, for referenceability\n  state = {\n    loading: true,\n    hasTrack: false,\n    hearted: false,\n    item: {\n      album: {\n        artists: [],\n        images: []\n      },\n      name: 'Loading...'\n    }\n  }\n\n  componentDidMount() {\n    this.hydrateTrack()\n  }\n\n  async hydrateTrack() {\n    try {\n      let update;\n      let current = JSON.parse(\n        JSON.stringify(this.state)\n      )\n      current.loading = false\n      let currentlyPlaying = await this.Spotify.currentlyPlaying()\n      if (currentlyPlaying.item) {\n        let hearts = await this.ipcRenderer.invoke('getConfig', 'hearts')\n        update = {\n          hearted: hearts.indexOf(currentlyPlaying.item.uri) > -1,\n          hasTrack: true,\n          item: currentlyPlaying.item\n        }\n      } else {\n        update = current\n        update.item.name = 'No track playing'\n      }\n      await this.setState({...current, ...update})\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  heartClicked = async function(e) {\n    await this.hydrateTrack()\n    if (this.state.hasTrack) {\n      try {\n        let added = await this.Spotify.addTrack(this.state.item.uri)\n        if (added) {\n          this.setState({hearted: true})\n          return this.state.item\n        } else {\n          return false\n        }\n      } catch (error) {\n        console.log(error)      \n      }\n    }\n  }\n\n  openAppMenu = (e) => {\n    // let rightClickPosition = {x: e.x, y: e.y}\n    this.menu.popup(remote.getCurrentWindow())\n  }\n\n  quitWasClicked = () => {\n    this.ipcRenderer.send('quit-app')\n  }\n\n  trackName() {\n    return this.state.item.name\n  }\n\n  artists() {\n    const artists = this.state.item.album.artists;\n    if (artists.length > 0) {\n      return artists.map(a => a.name).join(' & ')\n    } else {\n      return ''\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"w-full flex flex-col px-4 pt-4\">\n        <div class=\"max-w-sm rounded overflow-hidden shadow-lg flex\">\n          <div class=\"bg-gray-200 flex-grow\">\n            <div class=\"flex\">\n              <Image state={this.state} />\n              <div class=\"w-full grid grid-cols-12\">\n                <div class=\"col-span-10 pl-3 py-2\">\n                  <div class=\"text-gray-800 font-bold text-md select-none truncate\">\n                    {this.trackName()}\n                  </div>\n                  <p class=\"text-gray-800 text-base select-none\">\n                    {this.artists()}\n                  </p>\n                </div>\n                <IconAction isHearted={this.state.hearted} onClick={this.heartClicked} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mt-4 -mx-4 border-t border-gray-400 flex\">\n          <div class=\"py-2 px-4 w-full flex items-center justify-between\">\n            <svg style=\"width:50px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1546.58 270.85\"><g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"main\"><path d=\"M11.65,267.94H0V0H11.65Zm23.31,0H23.31V0H35Zm23.31,0H46.62V0H58.27ZM180.53,11.65H81.58V23.31h99V35H81.58V46.62h99V58.27H81.58V69.93h99V81.58H81.58V93.24h69.81v11.65H81.58v11.66h69.81V128.2H81.58v11.66h69.81v11.65H81.58v11.54h69.81V174.7H81.58v93.24H69.93V0h110.6Z\" style=\"fill:#ff9cd6\"/><path d=\"M285.41,270.27c-62.7,0-113.63-50.23-113.63-113a113.63,113.63,0,0,1,227.26,0V267.94H387.39V157.22a102,102,0,0,0-204,0c0,56.29,45.69,101.51,102,101.51,2.91,0,5.83-.23,8.74-.46V246.73c-2.91.23-5.83.35-8.74.35-49.88,0-90.32-40-90.32-89.86a90.32,90.32,0,0,1,180.64,0V267.94H364.08V157.22a78.67,78.67,0,1,0-78.67,78.32c2.91,0,5.83-.23,8.74-.47V223.42a73.3,73.3,0,0,1-8.74.58,66.84,66.84,0,1,1,67-66.78V267.94H340.77V157.22a55.36,55.36,0,1,0-55.36,55.13,52.71,52.71,0,0,0,8.74-.7V199.88a42.94,42.94,0,0,1-8.74.93,43.59,43.59,0,1,1,43.71-43.59V267.94H317.46V157.22a32.05,32.05,0,1,0-32,32.05,31,31,0,0,0,8.74-1.28V175.64a20,20,0,0,1-8.74,2,20.4,20.4,0,1,1,20.39-20.4V267.94A88.39,88.39,0,0,1,285.41,270.27Zm8.74-113a8.74,8.74,0,1,0-17.48,0,8.74,8.74,0,1,0,17.48,0Z\" style=\"fill:#ff9cd6\"/><path d=\"M390.29,46.62h12.35l61.77,221.32H452.17Zm24.59,0h12.24l61.76,221.32H476.65Zm24.47,0h12.24l61.77,221.32H501.12Zm24.48,0h12.23L538,267.94H525.71Zm160.37,0L562.43,267.94H550.19L488.3,46.62h12.24l6.76,24,6.64-24H526.3L513.36,92.54l6.18,21.91,19-67.83h12.24l-25.06,89.74,6.06,21.91L563,46.62h12.24L538,180.18l6.06,22L587.48,46.62h12.24l-49.53,177.5L556.25,246,612,46.62Z\" style=\"fill:#ff9cd6\"/><path d=\"M691.66,163.05h145.1c-.23,4-.58,7.81-1.16,11.65H696.32a32.83,32.83,0,0,0,13.52,11.66H833.15c-1,4-2.33,7.81-3.73,11.65H739a44.14,44.14,0,0,1-15.62,2.92,43.65,43.65,0,1,1,0-87.3,44.82,44.82,0,0,1,15.27,2.8h22.14a55.31,55.31,0,1,0,.12,81.58l8.16,8.28a67,67,0,1,1,7.34-89.86h14.1a78.5,78.5,0,1,0-13.17,98.13l8.28,8.28a90.35,90.35,0,1,1,18.29-106.41h12.82A101.68,101.68,0,1,0,794,231l8,8.27a113,113,0,0,1-78.67,31.58c-62.82,0-113.75-50.81-113.75-113.51a113.69,113.69,0,0,1,223.54-29.26H710.07a32.35,32.35,0,0,0-13.63,11.66H835.6c.58,3.85.93,7.69,1.16,11.65h-145a25,25,0,0,0-.59,6A46,46,0,0,0,691.66,163.05Z\" style=\"fill:#ff9cd6\"/><path d=\"M998,120.86v2H986.39v-2a65.56,65.56,0,1,0-65.5,65.5,7.29,7.29,0,0,1,0,14.57,7.06,7.06,0,0,1-6.06-3.15,79.52,79.52,0,0,1-12.82-2.1,18.94,18.94,0,1,0,18.88-21,53.85,53.85,0,1,1,53.85-53.84v2H963.08v-2a42.25,42.25,0,1,0-42.19,42.19,30.6,30.6,0,1,1-30.65,30.65v-2A77.17,77.17,0,1,1,998,120.86Zm0,72.84a77.15,77.15,0,1,1-154.3,0v-2h11.54v2a65.56,65.56,0,1,0,65.61-65.5,7.29,7.29,0,1,1,0-14.57,7,7,0,0,1,6,3.15,75.56,75.56,0,0,1,12.82,2.1,18.94,18.94,0,1,0-18.77,21,53.85,53.85,0,1,1-54,53.84v-2h11.66v2a42.25,42.25,0,1,0,42.3-42.31,30.54,30.54,0,1,1,30.54-30.53v2A77.2,77.2,0,0,1,998,193.7Z\" style=\"fill:#ff9cd6\"/><path d=\"M1021.34,267.94h-11.65V0h11.65Zm23.31,0H1033V0h11.65Zm23.31,0H1056.3V0H1068Zm23.31,0h-11.66V0h11.66Zm23.31,0h-11.66V0h11.66Z\" style=\"fill:#ff9cd6\"/><path d=\"M1235.07.12V11.77H1130.3V.12ZM1130.3,23.31h104.77V35H1130.3Zm104.77,244.63h-11.65V58.27h-11.65V267.94h-11.66V58.27h-11.54V267.94h-11.65V58.27h-11.66V267.94h-11.65V58.27H1142V267.94H1130.3V46.62h104.77Z\" style=\"fill:#ff9cd6\"/><path d=\"M1401,120.86v2h-11.66v-2a65.56,65.56,0,1,0-65.5,65.5,7.29,7.29,0,0,1,0,14.57,7.07,7.07,0,0,1-6.06-3.15,79.52,79.52,0,0,1-12.82-2.1,18.94,18.94,0,1,0,18.88-21,53.85,53.85,0,1,1,53.85-53.84v2h-11.66v-2a42.25,42.25,0,1,0-42.19,42.19,30.6,30.6,0,1,1-30.65,30.65v-2A77.18,77.18,0,1,1,1401,120.86Zm0,72.84a77.16,77.16,0,0,1-154.31,0v-2h11.54v2a65.56,65.56,0,1,0,65.61-65.5,7.29,7.29,0,1,1,0-14.57,7,7,0,0,1,6,3.15,75.4,75.4,0,0,1,12.82,2.1,18.94,18.94,0,1,0-18.77,21,53.85,53.85,0,1,1-54,53.84v-2h11.66v2a42.25,42.25,0,1,0,42.3-42.31,30.54,30.54,0,1,1,30.54-30.53v2A77.21,77.21,0,0,1,1401,193.7Z\" style=\"fill:#ff9cd6\"/><path d=\"M1523.27,256.29h23.31v11.65h-23.31a110.64,110.64,0,0,1-110.6-110.72V0h11.65V157.22A99,99,0,0,0,1523.27,256.29Zm0-23.31h23.31v11.65h-23.31A87.34,87.34,0,0,1,1436,157.22V0h11.65V157.22A75.74,75.74,0,0,0,1523.27,233Zm0-23.31h23.31v11.65h-23.31a64,64,0,0,1-64-64.1V0h11.65V157.22A52.36,52.36,0,0,0,1523.27,209.67Zm0-23.31h23.31V198h-23.31a40.66,40.66,0,0,1-40.67-40.79V0h11.53V157.22A29.15,29.15,0,0,0,1523.27,186.36Zm-5.83-128.09V69.93h29.14V81.58h-29.14V93.24h29.14v11.65h-29.14v11.66h29.14V128.2h-29.14v11.66h29.14v11.65h-29.14v5.71a5.85,5.85,0,0,0,5.83,5.83h23.31V174.7h-23.31a17.52,17.52,0,0,1-17.48-17.48V0h11.65V46.62h29.14V58.27Z\" style=\"fill:#ff9cd6\"/></g></g></svg>\n            <div class=\"flex space-x-1\" onClick={this.openAppMenu}>\n              <div class=\"w-1 h-1 bg-gray-700 rounded-full\"></div>\n              <div class=\"w-1 h-1 bg-gray-700 rounded-full\"></div>\n              <div class=\"w-1 h-1 bg-gray-700 rounded-full\"></div>\n            </div>\n\n          </div>\n\n        </div>\n     \n      </div>\n    )\n  }\n}","import { h, Component } from 'preact'\n\nexport default function IconAction(props) {\n\n  const iconStyle = function() {\n    let style = {\n      fill: 'white',\n      stroke: '#2d3748' // bg-gray-800\n    }\n    if (props.isHearted) {\n      style = {\n        fill: '#2d3748',\n        stroke: '#2d3748'\n      }\n    }\n    return style\n  }\n\n  return (\n    <div class=\"col-span-2 h-full px-3 flex\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" \n        viewBox=\"0 0 14.49 13.78\"\n        class=\"h-6 m-auto cursor-pointer\"\n        onClick={this.props.onClick} >\n        <polygon \n          fill={iconStyle().fill}\n          stroke={iconStyle().stroke}\n          points=\"7.25 0 9.48 4.54 14.49 5.26 10.87 8.8 11.72 13.78 7.25 11.43 2.77 13.78 3.62 8.8 0 5.26 5.01 4.54 7.25 0\" />\n      </svg>\n      \n    </div>\n  )\n\n}\n","import { h, Component } from 'preact'\n\nexport default function Image(props) {\n\n  const loadingImageStyles = {\n    width: '64px',\n    height: '64px',\n  }\n  const images = props.state.item.album.images\n  if (images.length > 0) {\n    return (\n      <img src={images[images.length-1]['url']} alt=\"Track Image\" />\n    )\n  } else {\n    return <div style={loadingImageStyles} class=\"bg-gray-100\"></div>\n  }\n\n}","// This gives you default context menu (cut, copy, paste)\n// in all input fields and textareas across your app.\n\nimport { remote } from \"electron\";\n\nconst Menu = remote.Menu;\nconst MenuItem = remote.MenuItem;\n\nconst isAnyTextSelected = () => {\n  return window.getSelection().toString() !== \"\";\n};\n\nconst cut = new MenuItem({\n  label: \"Cut\",\n  click: () => {\n    document.execCommand(\"cut\");\n  }\n});\n\nconst copy = new MenuItem({\n  label: \"Copy\",\n  click: () => {\n    document.execCommand(\"copy\");\n  }\n});\n\nconst paste = new MenuItem({\n  label: \"Paste\",\n  click: () => {\n    document.execCommand(\"paste\");\n  }\n});\n\nconst normalMenu = new Menu();\nnormalMenu.append(copy);\n\nconst textEditingMenu = new Menu();\ntextEditingMenu.append(cut);\ntextEditingMenu.append(copy);\ntextEditingMenu.append(paste);\n\ndocument.addEventListener(\n  \"contextmenu\",\n  event => {\n    switch (event.target.nodeName) {\n      case \"TEXTAREA\":\n      case \"INPUT\":\n        event.preventDefault();\n        textEditingMenu.popup(remote.getCurrentWindow());\n        break;\n      default:\n        if (isAnyTextSelected()) {\n          event.preventDefault();\n          normalMenu.popup(remote.getCurrentWindow());\n        }\n    }\n  },\n  false\n);\n","// Convenient way for opening links in external browser, not in the app.\n// Useful especially if you have a lot of links to deal with.\n//\n// Usage:\n//\n// Every link with class \".js-external-link\" will be opened in external browser.\n// <a class=\"js-external-link\" href=\"http://google.com\">google</a>\n//\n// The same behaviour for many links can be achieved by adding\n// this class to any parent tag of an anchor tag.\n// <p class=\"js-external-link\">\n//    <a href=\"http://google.com\">google</a>\n//    <a href=\"http://bing.com\">bing</a>\n// </p>\n\nimport { shell } from \"electron\";\n\nconst supportExternalLinks = event => {\n  let href;\n  let isExternal = false;\n\n  const checkDomElement = element => {\n    if (element.nodeName === \"A\") {\n      href = element.getAttribute(\"href\");\n    }\n    if (element.classList.contains(\"js-external-link\")) {\n      isExternal = true;\n    }\n    if (href && isExternal) {\n      shell.openExternal(href);\n      event.preventDefault();\n    } else if (element.parentElement) {\n      checkDomElement(element.parentElement);\n    }\n  };\n\n  checkDomElement(event.target);\n};\n\ndocument.addEventListener(\"click\", supportExternalLinks, false);\n","const {ipcRenderer, shell} = require('electron')\nconst qs = require('qs');\nconst axios = require('axios')\nconst env = require(\"env\");\n\nconst redirectUri = 'faveslist://'\nconst appConfig = {\n  playlist: null\n}\nlet refreshToken;\n\nconst authRequest = axios.create({\n  baseURL: 'https://accounts.spotify.com/'\n})\n\nconst authHeader = 'Basic ' + new Buffer.from(env.CLIENT_ID + ':' + env.CLIENT_SECRET).toString('base64');\nauthRequest.defaults.headers.common['Authorization'] = authHeader\nauthRequest.defaults.headers.common['Content-Type'] = 'application/x-www-form-urlencoded';\n\nconst apiRequest = axios.create({\n  baseURL: 'https://api.spotify.com/v1/'\n})\n\nconst simRequest = axios.create({\n  baseURL: 'https://httpstat.us/'\n})\n\nsimRequest.interceptors.response.use(function(config) {\n  return config\n}, async function(error) {\n  if (true) {\n    let refresh = await simRequest({url: '200'})\n    let original = axios.create({\n      baseURL: error.config.baseURL\n    })\n    return await original({url: '200'})\n  } else {\n    return error.response\n  }\n})\n\napiRequest.interceptors.request.use(async function (config) {\n  if (config.headers.common['Authorization'] === undefined) {\n    let tokens = await module.exports.init()\n    config.headers['Authorization'] = `Bearer ${tokens.access_token}`\n  }\n  return config\n}, function (error) {\n  debugger\n  return Promise.reject(error);\n});\n\napiRequest.interceptors.response.use(function(config) {\n  // debugger\n  return config\n}, async function(error) {\n  if (error.response.data.error.status === 401) {\n    let authOptions = {\n      method: 'POST', \n      data: qs.stringify({\n        'grant_type': 'refresh_token',\n        'refresh_token': refreshToken\n      }),\n      url: 'api/token'\n    };\n    let refresh = await authRequest(authOptions)\n    module.exports.setTokens(refresh.data)\n    ipcRenderer.invoke('update-config', {key: 'tokens', value: refresh.data})\n    // Return/retry original\n    return await apiRequest({url: error.config.url})\n  } else {\n    return error.response\n  }\n})\n\nlet currentRequestOptions, currentRequestAttempts = 0;\n\nasync function api(options) {\n  if (currentRequestAttempts > 1) {\n    currentRequestAttempts = 0;\n    throw new Error('unknown api error')\n  } else {\n    currentRequestAttempts++\n    currentRequestOptions = options\n  }\n\n  if (options.method === undefined) options.method = 'GET'\n\n  try {\n    // debugger\n    let request = await apiRequest(options)\n    if (request.status >= 200 && request.status < 300) {\n      currentRequestAttempts = 0\n      return request\n    } else {\n      throw new Error('Uncaught error from Spotify')\n    }\n  } catch (error) {\n    debugger\n  }\n\n}\n\nasync function setConfig() {\n  if (appConfig.playlist === null) {\n    appConfig.playlist = await ipcRenderer.invoke('getConfig', 'playlist')\n  }\n}\n\nasync function trackAlreadyLiked(uri) {\n  hearts = await ipcRenderer.invoke('getConfig', 'hearts')\n  return hearts.indexOf(uri) > -1\n}\n\n\nmodule.exports = {\n  init: () => {\n    return ipcRenderer.invoke('getConfig', 'tokens').then((tokens) => {\n      refreshToken = tokens.refresh_token;\n      module.exports.setTokens(tokens)\n      return tokens\n    }).catch((err) => {\n    })\n  },\n  authorize: function (state) {\n    const scope = [\n      'user-read-currently-playing', \n      'user-read-playback-state', \n      'playlist-modify-private', \n      'playlist-modify-public', \n      'playlist-read-private',\n      'playlist-read-collaborative'\n    ].join(' ')\n    const params = qs.stringify({\n        'client_id': env.CLIENT_ID,\n        'response_type': 'code',\n        'scope': scope,\n        'state': state,\n        'redirect_uri': redirectUri\n      })\n    const url = authRequest.defaults.baseURL + 'authorize'\n    shell.openExternal(`${url}?${params}`)\n  },\n  getTokens: async function(authCode) {\n    let options = {\n      method: 'POST', \n      data: qs.stringify({\n        'grant_type': 'authorization_code',\n        'code': authCode,\n        'redirect_uri': redirectUri\n      }),\n      url: 'api/token'\n    };\n    let request = await authRequest(options)\n    return request.data\n  },\n  setTokens: (tokens) => {\n    apiRequest.defaults.headers.common['Authorization'] = `Bearer ${tokens.access_token}`\n  },\n  setUser: async () => {\n    let options = {\n      url: 'me'\n    }\n    let request = await api(options)\n    return request.data\n\n  },\n  setPlaylist: async (name) => {\n    if (name.length < 1) name = 'Faveslist'\n    let userID = await ipcRenderer.invoke('getConfig', 'user.id')\n    let options = {\n      url: `users/${userID}/playlists`,\n      method: 'POST',\n      data: {\n        name: name,\n        public: false\n      }\n    }\n    let playlist = await api(options)\n    return playlist.data\n    \n  },\n  getPlaylist: async (id) => {\n    await setConfig()\n    let options = {\n      url: `playlists/${id}`\n    }\n    let request = await api(options)\n    return request.data\n  },\n  getPlaylists: async (url) => {\n    if (url === undefined) {\n      let userID = await ipcRenderer.invoke('getConfig', 'user.id')\n      url = `users/${userID}/playlists`\n    }\n    let options = {\n      url: url,\n      method: 'GET'\n    }\n    return await api(options)\n  },\n  getFaveslistTracks: async () => {\n    await setConfig()\n    let options = {\n      url: `playlists/${appConfig.playlist.id}/tracks`\n    }\n    return await api(options)\n  },\n  addTrack: async (trackURI) => {\n    if ( await trackAlreadyLiked(trackURI) ) {\n      return false\n    }\n    await setConfig()\n    let options = {\n      url: `playlists/${appConfig.playlist.id}/tracks`,\n      method: 'POST',\n      data: {\n        uris: [trackURI]\n      }\n    }\n    let request = await api(options)\n    if (request.data.snapshot_id) {\n      return true\n    } else {\n      return false\n    }\n  },\n  player: async () => {\n    let request = await api({url: 'me/player'})\n    return request.data\n  },\n  currentlyPlaying: async () => {\n    // apiRequest.defaults.headers.common['Authorization'] = `Bearer 1234`\n    let request = await api({url: 'me/player/currently-playing'})\n    return request.data !== undefined ? request.data : request\n  }\n}\n\n\n\n","export default __webpack_public_path__ + \"assets/css/app.css\";","module.exports = require(\"axios\");","module.exports = require(\"electron\");","module.exports = require(\"preact\");","module.exports = require(\"qs\");"],"sourceRoot":""}